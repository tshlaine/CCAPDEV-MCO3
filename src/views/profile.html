<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="../../public/styles/profile.css">
</head>

<body>
    <div class="header">

        <img class="logo" src="../../images/Logo.png">


        <div class="logo-name">
            <p class="web-name"><span class="Cafe-title">Cafe</span> <span class="St.-title">St.</span></p>
        </div>
        <ul>
            <li id="home-link"><a href="/index">Home</a></li>
            <li><a href="view-establishments.html">View Establishments</a></li>
            <li><a href="login.html">Log In</a></li>
        </ul>
        <div class="user-icon-container">
            <button class="user-button">
                <a href="other-profile.html">
                    <img src="../../images/usericon.png" alt="User Icon" class="user">
                </a>
            </button>
        </div>
    </div>

    <div class="cover">
        <div class="cover-img">
            <label for="coverImageUpload" class="edit-cover-pic">
                <img src="../../images/dog.jpg" id="coverPic" alt="Cover image" class="coverImg">
            </label>
            <input id="coverImageUpload" type="file" accept="image/*" onchange="loadCover(event)"
                style="display: none;">
        </div>
        <div class="profile-img">
            <label for="profileImageUpload" class="edit-profile-pic">
                <img src="../../images/doggy.jpg" id="profilePic" alt="Profile image" class="profile">
            </label>
            <input id="profileImageUpload" type="file" accept="image/*" onchange="loadProfile(event)"
                style="display: none;">
        </div>
    </div>

    <div class="profile-upper">
        <img class = "designdot" src="../../images/dots.png">
        <div class="profile-name">
            <b><span class="username">Doggy Puppy</span></b><br>
            <i><b><span class="realname">@Rami</span></b></i>

            <div class="edit" onclick="openEditPopup()">
                <img src="../../images/draw.png">
            </div>
        </div>


    </div>

    <div class="edit-popup" id="editPopup">
        <div class="popup-content">
            <span class="close" onclick="closeEditPopup()">&times;</span>
            <b><h2>Edit Profile</h2></b>
            <input type="text" id="newUsername" placeholder="New Username">
            <input type="text" id="newRealname" placeholder="New Real Name">
            <textarea id="newBio" placeholder="New Bio"></textarea>
            <button onclick="saveChanges()">Save</button>
        </div>
    </div>


    <div class="profile-lower">
        <span class="bio">Hello, I am a Dog !</span>
    </div>

    <img class = "designdot2" src="../../images/dots.png">

    <div class="profile-reviews-container">
        
        <img class = "designdot3" src="../../images/dots.png">
        <a id="prevButton" class="prev" onclick="prevSlide()">&#10094;</a>
        <a id="nextButton" class="next" onclick="nextSlide()">&#10095;</a>

        <div class="dot-container">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>

        </div>

        <div id="profile-reviews-set1" class="profile-reviews" data-visible="true">
            <div class="review1-container">
                <img src="../../images/preludelogo.jpg" class="review1">

                <div class="review1-review">
                    <br>
                    <span class="review-title">"Just for Instagram"</span><br><br>
                    <span class="review-text">The interior design, the food, and the drinks are all pleasing to the eye
                        but it's quite overpriced.</span>

                    <div class="star-rating" id="review1-rating">
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                    </div>
                </div>

            </div>

            <div class="review2-container">
                <img src="../../images/dripkofilogo.jpg" class="review2">

                <div class="review2-review">
                    <br>
                    <span class="review-title">"I Love Egg Coffee"</span><br><br>
                    <span class="review-text">Their egg coffee tastes similar to the one in Vietnam, it's my new
                        favorite !</span>

                    <div class="star-rating" id="review2-rating">
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                    </div>
                </div>
            </div>

            <div class="review3-container">
                <img src="../../images/sblogo.jpg" class="review3">

                <div class="review3-review">
                    <br>
                    <span class="review-title">"Overrated."</span><br><br>
                    <span class="review-text">Starbucks is really good at marketing, maybe the best in the world.
                        However, their coffee tastes burnt to me, roasting in such large quantities ensures that.</span>

                    <div class="star-rating" id="review3-rating">
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                    </div>
                </div>
            </div>

        </div>

         <!-- Second Page -->
         <div id="profile-reviews-set2" class="profile-reviews" data-visible="false">
            <div class="review1-container">
                <img src="../../images/obsecurelogo.jpg" class="review1">

                <div class="review1-review">
                    <br>
                    <span class="review-title">"Loyal Customer"</span><br><br>
                    <span class="review-text">My friend introduced me to this cafe. 2 years later, this has been my spot whenever I work on my academics.</span>

                    <div class="star-rating" id="review1-rating">
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                    </div>
                </div>

            </div>

           
            <div class="review2-container">
                <img src="../../images/tomologo.jpg" class="review2">

                <div class="review2-review">
                    <br>
                    <span class="review-title">"10/10"</span><br><br>
                    <span class="review-text">Their coffee is so good ! It's not your usual commercial uber-sweet coffee It's real coffee, 5-stars.</span>

                    <div class="star-rating" id="review2-rating">
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                        <span class="star">&#9733;</span>
                    </div>
                </div>
            </div>

        </div>
    </div>



    <script src="script.js"></script>
    <script>
        function loadProfile(event) {
            var reader = new FileReader();
            reader.onload = function () {
                var output = document.getElementById('profilePic');
                output.src = reader.result;
            };
            reader.readAsDataURL(event.target.files[0]);
        }
        function loadCover(event) {
            var reader = new FileReader();
            reader.onload = function () {
                var output = document.getElementById('coverPic');
                output.src = reader.result;
            };
            reader.readAsDataURL(event.target.files[0]);
        }

        function adjustCoverImage() {
            const coverImage = document.getElementById('coverPic');
            if (coverImage.naturalWidth < window.innerWidth) {
                coverImage.classList.add('full-screen-cover');
            } else {
                coverImage.classList.remove('full-screen-cover');
            }
        }

        window.addEventListener('resize', adjustCoverImage);

     
        function openEditPopup() {
            var editPopup = document.getElementById('editPopup');
            editPopup.style.display = 'block';
        }



        function closeEditPopup() {
            var editPopup = document.getElementById('editPopup');
            editPopup.style.display = 'none';
        }

   
        function saveChanges() {
            var newUsername = document.getElementById('newUsername').value;
            var newRealname = document.getElementById('newRealname').value;
            var newBio = document.getElementById('newBio').value;

         


            closeEditPopup();
        }

        let currentSlideIndex = 1;

        function showSlide(slideIndex) {
            const reviewSets = document.querySelectorAll('.profile-reviews');
            reviewSets.forEach((reviewSet, index) => {
                if (index === slideIndex - 1) {
                    reviewSet.style.display = 'block';
                } else {
                    reviewSet.style.display = 'none';
                }
            });
        }

        function showSlide(slideIndex) {
    const reviewSets = document.querySelectorAll('.profile-reviews');
    const dots = document.querySelectorAll('.dot');

    reviewSets.forEach((reviewSet, index) => {
        if (index === slideIndex - 1) {
            reviewSet.style.display = 'block';
        } else {
            reviewSet.style.display = 'none';
        }
    });

    dots.forEach((dot, index) => {
        if (index === slideIndex - 1) {
            dot.classList.add('active');
        } else {
            dot.classList.remove('active');
        }
    });
}


        function nextSlide() {
            currentSlideIndex++;
            if (currentSlideIndex > 2) {
                currentSlideIndex = 1;
            }
            showSlide(currentSlideIndex);
        }

        function prevSlide() {
            currentSlideIndex--;
            if (currentSlideIndex < 1) {
                currentSlideIndex = 2;
            }
            showSlide(currentSlideIndex);
        }

        // Show initial slide
        showSlide(currentSlideIndex);
    </script>


</body>

</html>